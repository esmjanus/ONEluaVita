<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>OneLua Docs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width=100%>
 <tbody>
 <tr style="height: 56px; background-color: #fafafb;">
  <!--BEGIN PROJECT_LOGO-->
  <td id="projectlogo" style="float: left; padding: 10px;"><a href="http://onelua.x10.mx/"> <img src="OneLogo.png"/> </a></td>
  <td id="projectlogo" style="float: right; padding: 10px;">
		<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
		<input type="hidden" name="cmd" value="_donations">
		<input type="hidden" name="business" value="oneluaproject@gmail.com">
		<input type="hidden" name="lc" value="US">
		<input type="hidden" name="item_name" value="OneLua Project">
		<input type="hidden" name="no_note" value="0">
		<input type="hidden" name="currency_code" value="USD">
		<input type="hidden" name="bn" value="PP-DonationsBF:btn_donateCC_LG.gif:NonHostedGuest">
		<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
		<img alt="" border="0" src="https://www.paypalobjects.com/es_XC/i/scr/pixel.gif" width="1" height="1">
		</form>
	</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ONElua Vita Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="current_sec"></a>
Version 4R0</h1>
<p>Actually ONElua Vita has the following main features:</p><ul>
<li><b>ONElua Vita 4R0</b></li>
<li>Ported to be 100% compatible with taiHEN and use the maximum of functions.</li>
<li>Handling peripherals:<ul>
<li>Physical buttons or controls.</li>
<li>Camera (Front and back).</li>
<li>Motion (Accelerometer, gyroscope).</li>
<li>Touch (Front and back).</li>
</ul>
</li>
<li>Many constants have been updated, please check the constatnts you are using with new changes on the Documentation.</li>
<li>New functions for the camera module and updated incorporated constants for the module.</li>
<li>Optimization of the files module (Please check our Documentation).</li>
<li>The OSK (On Screen Keyboard) module has been re-written, now the OSK loads with the system language set on the PSVita.</li>
<li>The OS module got new functions from wich we highlight:<ul>
<li><a class="el" href="group__os.html#ga9d3b5b14bdbd2a6a0c81bf2108803ecd">os.getreg()</a>, <a class="el" href="group__os.html#gad85af10b49fd5a444c057b8d50e50645">os.setreg()</a> for the Registry Manager (/CONFIG/).</li>
<li><a class="el" href="group__os.html#ga8d5dc40849638e279422bfecdde6df6a">os.saveaccount()</a>, <a class="el" href="group__os.html#ga753a238d13508853a339168be988046e" title="It allows you to restore the backup of the files in your PSN account. ">os.restoreaccount()</a>, <a class="el" href="group__os.html#ga44791ed2d16066f0ae3dbe03712ac62f">os.removeaccount()</a> for direct management of the files of your PSN Account.</li>
</ul>
</li>
<li>Optimization of the font module, now the default PGF and PVF font loading allows to use 3 fonts on the system: Korean, Latin and the set language font on the PSVita.<ul>
<li>Added the possibility to load ttf, pgf or pvf fonts.</li>
<li>Added the possibility to load a default font: onefont.pgf if there alongside our EBOOT.BIN, otherwise load the default font. Simply place the source properly renamed onefont.pgf and thus the eboot of ONElua can start our Homebrew with this default Font.</li>
</ul>
</li>
<li>Optimization of the game module, with new attractive functions:<ul>
<li><a class="el" href="group__game.html#gaa82c010b07419e02ed6e1a875e3a2d38">game.mount()</a>, <a class="el" href="group__game.html#ga60cab8a7e48274efd2b05fae22346c5d">game.umount()</a>, <a class="el" href="group__game.html#gac0a274cbc8113e1207ef1e20b5ea1f4f">game.rif()</a>,<a class="el" href="group__game.html#ga3a1d20d39b2ee10054275b4fe77ee29e">game.frif()</a>,<a class="el" href="group__game.html#gae03ed31d90241813d8feba7fa3eb3134">game.refresh()</a>. Thanks to the_Flow.</li>
<li>Added possibility to Install/Update/Uninstall Homebrew's from folder and in vpk format.</li>
<li>Updated function <a class="el" href="group__game.html#gaa3f200d9e12bda290e57476677b0e1f9">game.info()</a>, now get data of .sfo, eboot.pbp or VPKs/ZIPs.</li>
<li><a class="el" href="group__game.html#ga57770fa2e9de7d12be60bd567cc6550e">game.list()</a>, Has been optimized so the installed apps list on the PSVita can be loaded faster, reading them straigth from the app.db.</li>
</ul>
</li>
<li>New functions for the image module, such as <a class="el" href="group__image.html#gafce7ae6cfaab961a39d4e88886a7193a">image.save()</a> which can be used to convert images to 8 Bits</li>
<li>Added the module 'thread' &amp; 'channel', which allow ONElua to run multiple processes.</li>
<li>Improved audio player, now plays MP3, OGG, WAV formats, and plays from sources on the network.</li>
<li>In full access mode, the "app0:" partition is removed, and added support writing on the route of the app ("ux0:/app/&lt;ID&gt;").</li>
<li>It allows to enable unsafe or total mode on the console <a class="el" href="group__os.html#ga2b5de11e9150986ceb84c857af37f54d">os.master()</a>.</li>
<li>It allows to know access mode in the console (Safe or Unsafe) <a class="el" href="group__os.html#ga783dd611596f346d94fc2efda86a5de3">os.access()</a>.</li>
<li>Added the ability to go to 'LiveArea' without closing the application or press the 'PS' <a class="el" href="group__os.html#ga79926b0cbe2acc310964bcc8c57648be">os.golivearea()</a>.</li>
<li>Added the ability to update or rebuild the 'LiveArea' database <a class="el" href="group__os.html#gacf360321713d68a6ec7069396070d764">os.updatedb()</a> &amp; <a class="el" href="group__os.html#ga1edbab6aa07fe2c9ca347f713b46b296">os.rebuilddb()</a>.</li>
<li>Added the possibility of reload the config.txt from taiHEN <a class="el" href="group__os.html#ga379fc8769e00ed3bfc3b34a3ef204b5b">os.taicfgreload()</a>.</li>
<li>Added the possibility of Install/Update/Uninstall CustomThemes of 'LiveArea'.</li>
<li>Added ONEdebugger - Real-time debugger errors in your scripts.</li>
<li>Optimization of our Callbacks and the possibility to stop or abort processes in the callback, check the Callbacks section for more information..</li>
<li>Added the possibility to load maps (tiles) and draw.</li>
<li>Added the Lua Bit library that allows level operations bit by bit.</li>
<li>Added several 'PATCH' to extend the syntax of lua, examples:<ul>
<li>C Type operations: "sum: +=, subtraction:-=, multiplication: *=, division: /=, power: ^=, mod: %=, different: !=, division does not float: \"</li>
<li>C bit operations: "and: &amp;, or: |, not: ~, shift left: &lt;&lt;, right shift: &gt;&gt;"</li>
<li>Operations continue, "skips a cycle", in any loop.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="security_sec"></a>
Seguridad</h1>
<p>ONELua does not allows access to partitions: os0, pd0, sa0, tm0, vd0 y vs0.</p>
<h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>ONELua is a multiplatform project designed to facilitate programming for both programmers and those who are not, with the arrival of Henkaku by Team Molecule, finally vita was accessible and any user could use Homebrew's, at that time we decided that it was time to port ONElua and create a full version for PlayStation Vita.</p>
<p>Because it is still in the early vitasdk, lack of samples, time required to perform all the coding and testing personally, so the first version comes with such a delay from the onset of henkaku.</p>
<p>Here are the main functions of ONElua for PSP but of course, with new and special functions for PSVita.</p>
<h1><a class="anchor" id="install_sec"></a>
Installation</h1>
<ol type="1">
<li>Download the executable ONElua for Vita. Both the executable These documents are updated as soon as functionalities are added, so it is Advisable to use only our links.</li>
<li>Inside the package you will download contains the executable application packaging and ONEmaker That is responsible for creating the vpk for developed application.</li>
<li>Inside the ONEmaker folder is a folder called homebrew within this folder should place the most recent Eboot.bin of ONElua Vita, as well as any files you want to include in the project. In this same folder to place a file called script.lua, which will be the basis of any project.</li>
<li>Once you have all your files ready project, you must run the packer.bat is in ONEmaker, this will prompt a title for your project (This is the area visible in the live legend), then it will prompt an ID this must be exactly nine alphanumeric digits in mayus, once inserted both fields, a new vpk with the title you entered is created, that is the homebrew completed.</li>
<li>For more detailed installation instructions VPK homebrew's in Henkaku visit <a href="https://henkaku.xyz/usage/" target="_blank">page official </a>.</li>
</ol>
<dl class="section warning"><dt>Warning</dt><dd>Whenever you work with scripts is advisable to ensure that they are encoded in <b>UTF-8 without BOOM</b>, otherwise special characters (accents and ñ for example) are not displayed.</dd></dl>
<h1><a class="anchor" id="samples_sec"></a>
Samples</h1>
<p>In the release version (ONELuaVita4R0.vpk) we have bundled many samples using most of the ONElua functions.</p>
<h1><a class="anchor" id="misc_sec"></a>
Considerations of ONElua</h1>
<p>As an information note, this documentation will not find information on using Lua own functions (such as string module functions, math, io, etc), only the functions of the interpreter. For more information about Lua functions, visit the <a href="http://www.lua.org/manual/5.1/" target="_blank">page official </a>.</p>
<h2><a class="anchor" id="cte_sed"></a>
Constants</h2>
<p>Many features of ONElua have constant for ease of use. These constants have an associated numerical value (indicated in the documentation for each function) so it is irrelevant use the constant or its numeric value directly.</p>
<p>By convention, ONElua constants are defined as <b>__ NAME</b> (two underscores at the beginning and in upper letters).</p>
<h2><a class="anchor" id="call_sub"></a>
Callbacks</h2>
<p>ONElua has several callbacks, which are nothing but functions which themselves are defined, they are automatically executed in certain tasks that block script execution. To use a callback is only necessary to define a function with the appropriate name (see list below) and in writing the code to be executed. Callbacks are not designed to run very complex code, only the console does not seem dead while performing these tasks.</p>
<p>Some callbacks as onExtractFiles, onInstallApps and onNetGetFile, have the option of aborting the process being done, by returning a numeric value 0.</p>
<p>These are the available callbacks:</p><ul>
<li><em>onDebug</em>(msg) Executed when an error occurs in your script, to display a custom error.<ul>
<li><em>msg:</em> The error message generated for lua.</li>
</ul>
</li>
<li><em>onCopyFiles</em>(size, written, name) Executed when files are copied using <a class="el" href="group__files.html#ga16d63a7874331ec57636779e82a3c3e0">files.copy()</a>.<ul>
<li><em>size:</em> File size (bytes).</li>
<li><em>written:</em> written bytes.</li>
<li><em>name:</em> Filename.</li>
</ul>
</li>
<li><em>onDeleteFiles</em>(name) Executed when files are delete using <a class="el" href="group__files.html#ga1d55a4f43f72a2521d70dcb0af4920bd">files.delete()</a>.<ul>
<li><em>name:</em> Filename.</li>
</ul>
</li>
<li><em>onAppInstall</em>(step, size_argv, written, file, totalsize, totalwrittent) Its executed whenever a .VPK is installed with the function <a class="el" href="group__game.html#ga1a052ff586dec3f24018ff11b6bf6905">game.install()</a>.<ul>
<li><em>step:</em> Estado en el que se encuentra el callback:<ul>
<li>1: Initial state getting ready to search dangerous files in the vpk.</li>
<li>2: In this state there was dangerous files found in the vpk and is waiting for user response.</li>
<li>3: In this state gets ready to extract the vpk.</li>
<li>4: In this state gets ready to install the vpk on the system.</li>
</ul>
</li>
<li><em>size_argv:</em> Is the value returned when dangerous files are present in the vpk: 1 for unsafe 2 for dangerous.</li>
<li><em>written:</em> written bytes.</li>
<li><em>file:</em> Filename.</li>
<li><em>totalsize:</em> Total size in bytes to unpack.</li>
<li><em>totalwritten:</em> Total bytes written so far.</li>
</ul>
</li>
<li><em>onScanningFiles</em>(name, uncomp_size, offset) Se ejecuta cuando se escanea archivos .ZIP/.VPK con la función <a class="el" href="group__files.html#gaea8f448c8ba5fdcd3431983be1a4ade7">files.scan()</a>.<ul>
<li><em>name:</em> Filename.</li>
<li><em>uncomp_size:</em> Uncompressed Size in bytes.</li>
<li><em>offset:</em> Position of the file inside the .ZIP/.VPK</li>
<li><em>unsafe:</em> Determines if a vpk is flagged as: error or can not be checked (-1), safe (0), unsafe (1) or dangerous (2).</li>
</ul>
</li>
<li><em>onExtractFiles</em>(size, written, name, totalsize, totalwritten) Executed when files are uncompresed using <a class="el" href="group__files.html#gab712ac594a370d98936fc23b5186a6a1">files.extract()</a> or install a vpk with the function <a class="el" href="group__game.html#ga1a052ff586dec3f24018ff11b6bf6905">game.install()</a>.<ul>
<li><em>size:</em> File size (bytes).</li>
<li><em>written:</em> written bytes.</li>
<li><em>name:</em> Filename.</li>
<li><em>totalsize:</em> Total size in bytes to unpack.</li>
<li><em>totalwritten:</em> Total bytes written so far.</li>
</ul>
</li>
<li><em>onCompressZip</em>(name) Se ejecuta al Comprimir archivos con la función <a class="el" href="group__files.html#ga863cefcd91ee8094ed013441468d67e3">files.makezip()</a>.<ul>
<li><em>name:</em> Nombre del archivo a comprimir.</li>
</ul>
</li>
<li><em>onNetGetFile</em>(size, written) It runs when a network file is downloaded with the function <a class="el" href="group__http.html#ga4b449db74cda3cfc8e477588c5b65c12">http.getfile()</a>.<ul>
<li><em>size:</em> File size in bytes (if size can't be detected, it will return 0).</li>
<li><em>written:</em> written bytes.</li>
</ul>
</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>The args of <em>onExtractFiles</em> are not referred to the whole compressed file, but each file inside it.</li>
<li>The number and/or name of the callback arguments don't need to be the same as listed, however, the callback name must be <b>exactly</b> the same. </li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The callbacks don't update the screen, so you need to call manually <a class="el" href="group__screen.html#ga0f911c10645c6e6cf12ada7003d1ed0e">screen.flip()</a> to avoid crashes when using text or images in your callbacks.</dd></dl>
<h2><a class="anchor" id="legal_sub"></a>
Legal</h2>
	<div style="padding: 5px; border-radius: 10px; background-color:#c1c1c1;">
		<p>
			Copyright © 1994–2014 Lua.org, PUC-Rio.
		</p>
		<p>
			Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
		</p>
		<p>
			The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
		</p>
		<p>
			THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
		</p>
	</div>
 </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
